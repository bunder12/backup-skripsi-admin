{"ast":null,"code":"import _slicedToArray from\"C:/web/login/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from'react';import{Button,Card,CardContent,TextField,Typography}from'@material-ui/core';import useStyles from'./styled';import{Visibility,VisibilityOff}from'@material-ui/icons';import axios from'axios';import{Navigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPass=_useState2[0],setShowPass=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];var classes=useStyles();var handleLogin=function handleLogin(){var username=document.querySelector('#username').value;var password=document.querySelector('#password').value;var data={username:username,password:password};axios.post(\"http://localhost:5000/admin/login\",data).then(function(res){if(res){localStorage.setItem('tokenAdmin',res.data.token);setRedirect(true);}}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsxs(Fragment,{children:[redirect&&/*#__PURE__*/_jsx(Navigate,{to:\"dashboard\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{className:classes.cardContent,children:[/*#__PURE__*/_jsx(Typography,{children:\"Login Admin\"}),/*#__PURE__*/_jsx(TextField,{style:{margin:'20px 0'},id:\"username\",variant:\"outlined\",label:\"username\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.password,children:[/*#__PURE__*/_jsx(TextField,{type:showPass?'text':'password',id:\"password\",style:{marginBottom:'20px'},variant:\"outlined\",label:\"password\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.visibility,children:showPass?/*#__PURE__*/_jsx(Visibility,{onClick:function onClick(){return setShowPass(!showPass);}}):/*#__PURE__*/_jsx(VisibilityOff,{onClick:function onClick(){return setShowPass(!showPass);}})})]}),/*#__PURE__*/_jsx(Button,{onClick:handleLogin,variant:\"contained\",color:\"primary\",children:\"Masuk\"})]})})})]});};export default Login;","map":{"version":3,"names":["React","Fragment","useState","Button","Card","CardContent","TextField","Typography","useStyles","Visibility","VisibilityOff","axios","Navigate","Login","showPass","setShowPass","redirect","setRedirect","classes","handleLogin","username","document","querySelector","value","password","data","post","then","res","localStorage","setItem","token","catch","err","console","log","container","cardContent","margin","marginBottom","visibility"],"sources":["C:/web/login/admin/src/components/login/login.jsx"],"sourcesContent":["import React, { Fragment, useState } from 'react'\r\nimport { Button, Card, CardContent, TextField, Typography } from '@material-ui/core'\r\nimport useStyles from './styled'\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport axios from 'axios';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n\r\n  const [showPass, setShowPass] = useState(false)\r\n  const [redirect, setRedirect] = useState(false)\r\n  const classes = useStyles();\r\n\r\n  const handleLogin = () => {\r\n    const username = document.querySelector('#username').value;\r\n    const password = document.querySelector('#password').value;\r\n\r\n    const data = {\r\n      username: username,\r\n      password: password\r\n    }\r\n\r\n    axios.post(`http://localhost:5000/admin/login`, data)\r\n    .then(res => {\r\n      if(res){\r\n        localStorage.setItem('tokenAdmin', res.data.token)\r\n        setRedirect(true)\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      {\r\n        redirect && (\r\n          <Navigate to='dashboard'/>\r\n        )\r\n      }\r\n    <div className={classes.container}>\r\n      <Card>\r\n        <CardContent className={classes.cardContent}>\r\n          <Typography>Login Admin</Typography>\r\n          <TextField style={{margin: '20px 0'}} id='username' variant='outlined' label='username'/>\r\n          <div className={classes.password}>\r\n          <TextField type={showPass? 'text' : 'password'} id='password' style={{marginBottom: '20px'}} variant='outlined' label='password'/>\r\n          <div className={classes.visibility}>\r\n          {\r\n            showPass? <Visibility onClick={() => setShowPass(!showPass)}/> : <VisibilityOff onClick={() => setShowPass(!showPass)}/>\r\n          }\r\n          </div>\r\n          </div>\r\n          <Button onClick={handleLogin} variant='contained' color='primary'>Masuk</Button>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"wGAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,WAAvB,CAAoCC,SAApC,CAA+CC,UAA/C,KAAiE,mBAAjE,CACA,MAAOC,UAAP,KAAsB,UAAtB,CACA,OAASC,UAAT,CAAqBC,aAArB,KAA0C,oBAA1C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAElB,cAAgCX,QAAQ,CAAC,KAAD,CAAxC,wCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAAgCb,QAAQ,CAAC,KAAD,CAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eACA,GAAMC,QAAO,CAAGV,SAAS,EAAzB,CAEA,GAAMW,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,GAAMC,SAAQ,CAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,KAArD,CACA,GAAMC,SAAQ,CAAGH,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,KAArD,CAEA,GAAME,KAAI,CAAG,CACXL,QAAQ,CAAEA,QADC,CAEXI,QAAQ,CAAEA,QAFC,CAAb,CAKAb,KAAK,CAACe,IAAN,qCAAgDD,IAAhD,EACCE,IADD,CACM,SAAAC,GAAG,CAAI,CACX,GAAGA,GAAH,CAAO,CACLC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmCF,GAAG,CAACH,IAAJ,CAASM,KAA5C,EACAd,WAAW,CAAC,IAAD,CAAX,CACD,CACF,CAND,EAOCe,KAPD,CAOO,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CATD,EAUD,CAnBD,CAqBA,mBACE,MAAC,QAAD,YAEIjB,QAAQ,eACN,KAAC,QAAD,EAAU,EAAE,CAAC,WAAb,EAHN,cAMA,YAAK,SAAS,CAAEE,OAAO,CAACkB,SAAxB,uBACE,KAAC,IAAD,wBACE,MAAC,WAAD,EAAa,SAAS,CAAElB,OAAO,CAACmB,WAAhC,wBACE,KAAC,UAAD,0BADF,cAEE,KAAC,SAAD,EAAW,KAAK,CAAE,CAACC,MAAM,CAAE,QAAT,CAAlB,CAAsC,EAAE,CAAC,UAAzC,CAAoD,OAAO,CAAC,UAA5D,CAAuE,KAAK,CAAC,UAA7E,EAFF,cAGE,aAAK,SAAS,CAAEpB,OAAO,CAACM,QAAxB,wBACA,KAAC,SAAD,EAAW,IAAI,CAAEV,QAAQ,CAAE,MAAF,CAAW,UAApC,CAAgD,EAAE,CAAC,UAAnD,CAA8D,KAAK,CAAE,CAACyB,YAAY,CAAE,MAAf,CAArE,CAA6F,OAAO,CAAC,UAArG,CAAgH,KAAK,CAAC,UAAtH,EADA,cAEA,YAAK,SAAS,CAAErB,OAAO,CAACsB,UAAxB,UAEE1B,QAAQ,cAAE,KAAC,UAAD,EAAY,OAAO,CAAE,yBAAMC,YAAW,CAAC,CAACD,QAAF,CAAjB,EAArB,EAAF,cAAyD,KAAC,aAAD,EAAe,OAAO,CAAE,yBAAMC,YAAW,CAAC,CAACD,QAAF,CAAjB,EAAxB,EAFnE,EAFA,GAHF,cAWE,KAAC,MAAD,EAAQ,OAAO,CAAEK,WAAjB,CAA8B,OAAO,CAAC,WAAtC,CAAkD,KAAK,CAAC,SAAxD,mBAXF,GADF,EADF,EANA,GADF,CA0BD,CArDD,CAuDA,cAAeN,MAAf"},"metadata":{},"sourceType":"module"}